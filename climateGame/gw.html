<html>
  <head>
    <title>Global Warming Simulator</title>
    <link href='https://fonts.googleapis.com/css?family=Gowun Dodum' rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <style>
      .section {
        background-color: #878787;
        color: white;
        margin: 0.65%;
        float: left;
        text-align: center; 
        width: 32%; 
        height: 98%;
      }
      
      .storeButton {
        background-color: #616161;
        width: 300px;
        height: 200px;
        padding: 10px;
        color: white;
        text-align: left;
        font-size: 15px;
        font-weight: bold;
        margin: 5px;
        align-items: center;
        border-width: 5px;
      }
      
      .emboss-effect {
      box-shadow: 0 1px 2px rgba(0,0,0,0.07), 
                0 2px 4px rgba(0,0,0,0.07), 
                0 4px 8px rgba(0,0,0,0.07), 
                0 8px 16px rgba(0,0,0,0.07),
                0 16px 32px rgba(0,0,0,0.07), 
                0 32px 64px rgba(0,0,0,0.07);
      }
      
      .storeScroll {
        overflow-x: hidden;
        overflow-y: auto;
      }
      
      .storeScrollHoriz {
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
        background-color: #bdbdbd;
        margin: 5px;
      }
      
      body {
        font-family: 'Gowun Dodum';font-size: 22px;
        background-color: black;
      }
      
      .gowun {
        font-family: 'Gowun Dodum';
      }
      
      .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
      }

      .switch input { 
        opacity: 0;
        width: 0;
        height: 0;
      }
      
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #2dad1f;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      -webkit-transition: .4s;
      transition: .4s;
    }
      
    input:checked + .slider {
      background-color: #db2616;
    }


    input:checked + .slider:before {
      -webkit-transform: translateX(26px);
      -ms-transform: translateX(26px);
      transform: translateX(26px);
    }

    </style>
  </head>
  <body>
    <div class="section">
      <h3>Statistics</h3>
      <p><span id="moneyDisp">0</span></p>
      <p>Dollars</p>
    </div>   
    <div class="section">
      <h3>Buildings</h3>
      <div class="storeScrollHoriz">
        <p>Windmills</p>
        <div id="x" style="margin-top: 40px;"></div>
      </div>
      <div class="storeScrollHoriz">
        <p>Solar Panel</p>
        <div id="y" style="margin-top: 40px;"></div>
      </div>
    </div>   
    <div class="section">
      <h3>STORE</h3>
        <p id="state">BUYING</p>
        <label class="switch" onclick="checkState()">
        <input type="checkbox" id="slider">
        <span class="slider"></span>
        </label>

      <div class="storeScroll">
        <button class="storeButton emboss-effect" onclick="buyBuildings(windmills, 'windmillOwned', 'windmillPrice', 0)">
          <img src="WindmillSpread.png" width=20 alt="windmill"/>
          <p>Windmill</p>
          <h6>1.32 million</h6>
          <h5 id="windmillOwned">0</h5>
        </button><br>
        <button class="storeButton emboss-effect" onclick="buyBuildings(solarpanels, 'solarpanelOwned', 'solarpanelPrice', 1)">
          <img src="solarPanelSpread.png" width=40 alt="windmill"/>
          <p>Solar Panel</p>
          <h6>1.2 million</p>
          <h5 id="solarpanelOwned">0</h5>
        </button><br>
      </div>     
    </div>
    <script>
      
      // Stats
      let moneyDisplay = document.getElementById("moneyDisp");
      let globalTempature = 60;
      let money = 100000000;
      let buySellToggle = true;
      
      // Buildings
      
      let windmills = {
        windmillPrice: 120000,
        windmillProduction: 1000000,
        windmillOwned: 0,
      };
      
      let solarpanels = {
        solarpanelPrice: 1000000,
        solarpanelProduction: 10,
        solarpanelOwned: 0,
      };
      
      // Building production
      
      let pos = 20;
      let imgRel = "";
      
      
      window.onload = function loading() { 
        window.alert('v0.14.4');
        document.getElementById("moneyDisp").innerHTML = money;
      }
      
      
      // Building functions
      
      function calculateBuildings() {
        
        if (windmills.windmillOwned >= 0) {
        money += windmills.windmillOwned * windmills.windmillProduction;
        }
        
        if (solarpanels.solarpanelOwned >= 0) {
        money += solarpanels.solarpanelOwned * solarpanels.solarpanelProduction;
        }
        
        moneyDisplay.innerHTML = money;
      }
      
      function buyBuildings(building, buildingOwned, buildingPrice, image) {
        if (money >= building[buildingPrice] && buySellToggle == true) {
          building[buildingOwned]++;
          money -= building[buildingPrice];
          document.getElementById(buildingOwned).innerHTML = building[buildingOwned];
          moneyDisplay.innerHTML = money;
          window.alert("bought");
          buySellToggle == false;
          window.alert(buySellToggle);
          dispImage(image);
        } else if (money < building[buildingPrice] && buySellToggle == true) {
          window.alert("Not enough money!");
        } else if (buySellToggle == false && building[buildingOwned] > 0) {
          money += building[buildingPrice];
          building[buildingOwned] -= 1;
          window.alert("Building sold!");
          document.getElementById(buildingOwned).innerHTML = building[buildingOwned];
        }
         
      }
      
    
      
    
        
      function dispImage(imageSelection) {
        let img = document.createElement("img");
        //let imageSelection = document.getElementById("images").value;
        let div = 0;  
        if (imageSelection == 0) {
    	    img.src = 'WindmillSpread.png';        
          div = document.getElementById("x");
        } else if (imageSelection == 1) {
          img.src = "solarPanelSpread.png";
          div = document.getElementById("y");
    	  }  
          imgRel = pos + "px";
          img.setAttribute("width", "50px");
          img.setAttribute("position", "absolute");
          img.setAttribute("left", "10px");
          pos += 20;
          div.appendChild(img);
        
        
      } 
      
      
      function checkState() {
        let slider = document.getElementById("slider");
        window.alert(slider.checked);
        if (slider.checked == true) {
        buySellToggle = false;
        document.getElementById("state").innerHTML = "SELLING";
        } else if (slider.checked == false) {
        buySellToggle = true;
        document.getElementById("state").innerHTML = "BUYING";
        }

      }

  
      // Timers
     setInterval(calculateBuildings, 1000);
    </script>
  </body>
</html>
