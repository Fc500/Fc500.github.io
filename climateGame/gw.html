<html>
  <head>
    <title>Global Warming Simulator</title>
    <link href='https://fonts.googleapis.com/css?family=Gowun Dodum' rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <style>
      .section {
        background-color: #452d04;
        color: white;
        margin: 0.65%;
        float: left;
        text-align: center; 
        width: 32%; 
        height: 98%;
      }
      
      .storeButton {
        background-color: #784e06;
        width: 300px;
        height: 200px;
        padding: 10px;
        color: white;
        text-align: left;
        font-size: 15px;
        font-weight: bold;
        margin: 5px;
        align-items: center;
        border-width: 5px;
      }
      
      .emboss-effect {
      box-shadow: 0 1px 2px rgba(0,0,0,0.07), 
                0 2px 4px rgba(0,0,0,0.07), 
                0 4px 8px rgba(0,0,0,0.07), 
                0 8px 16px rgba(0,0,0,0.07),
                0 16px 32px rgba(0,0,0,0.07), 
                0 32px 64px rgba(0,0,0,0.07);
      }
      
      .storeScroll {
        overflow-x: hidden;
        overflow-y: auto;
      }
      
      .storeScrollHoriz {
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
        background-color: #b87906;
        margin: 5px;
      }
      
      body {
        font-family: 'Gowun Dodum';font-size: 22px;
        background-color: black;
      }
      
      .gowun {
        font-family: 'Gowun Dodum';
      }
    </style>
  </head>
  <body>
    <div class="section">
      <h3>Statistics</h3>
      <p><span id="moneyDisp">0</span></p>
      <p>Dollars</p>
    </div>   
    <div class="section">
      <h3>Buildings</h3>
      <div class="storeScrollHoriz">
        <p>Windmills</p>
        <div id="x" style="margin-top: 40px;"></div>
      </div>
      <div class="storeScrollHoriz">
        <p>Solar Panel</p>
        <div id="y" style="margin-top: 40px;"></div>
      </div>
    </div>   
    <div class="section">
      <h3>STORE</h3>
      <div class="storeScroll">
        <button class="storeButton emboss-effect" onclick="dispImage(0); buyBuildings(windmills, windmillOwned, windmillPrice)">
          <img src="WindmillSpread.png" width=20 alt="windmill"/>
          <p>Windmill</p>
          <h6>1.32 million</h6>
          <h5 id="windmillsOwned">0</h5>
        </button><br>
        <button class="storeButton emboss-effect" onclick="dispImage(1); buyBuildings(solarpanels, solarpanelOwned, solarpanelPrice)">
          <img src="solarPanelSpread.png" width=40 alt="windmill"/>
          <p>Solar Panel</p>
          <h6>1.2 million</p>
          <h5 id="solarpanelsOwned">0</h5>
        </button><br>
      </div>     
    </div>
    <script>
      
      // Stats
      let moneyDisplay = document.getElementById("moneyDisp");
      let globalTempature = 60;
      let money = 100000;
      
      // Buildings
      
      let windmills = {
        windmillPrice: 120000,
        windmillProduction: 1000000,
        windmillOwned: 0,
        ownedHTML: "windmillsOwned"
      };
      
      let solarpanels = {
        solarpanelPrice: 1000000,
        solarpanelProduction: 100000,
        solarpanelOwned: 0,
        ownedHTML: "solarpanelsOwned"
      }
      
      // Building production
      
      let pos = 20;
      let imgRel = "";
      
      
      window.alert('v0.102');
      
      
      // Building functions
      
      function calculateBuildings() {
        if (windmills.windmillOwned >= 0) {
        money += windmills.windmillOwned * windmills.windmillProduction;
        }
        
        if (solarpanels.solarpanelOwned >= 0) {
        money += solarpanels.solarpanelOwned * solarpanels.solarpanelProduction;
        }
        
        moneyDisplay.innerHTML = money;
      }
      
      function buyBuildings(building, buildingOwned, buildingPrice) {
        if (money != 0) {
          building.windmillOwned++;
          money -= building.buildingPrice;
          document.getElementById("windmillsOwned").innerHTML = building.windmillOwned;
          moneyDisplay.innerHTML = money;
          window.alert("testy testy");
        }
         
      }
      
    
      
    
        
      function dispImage(imageSelection) {
        let img = document.createElement("img");
        //let imageSelection = document.getElementById("images").value;
        let div = 0;  
        if (imageSelection == 0) {
    	    img.src = 'WindmillSpread.png';        
          div = document.getElementById("x");
        } else if (imageSelection == 1) {
          img.src = "solarPanelSpread.png";
          div = document.getElementById("y");
    	  }  
          imgRel = pos + "px";
          img.setAttribute("width", "50px");
          img.setAttribute("position", "absolute");
          img.setAttribute("left", "10px");
          pos += 20;
          div.appendChild(img);
        
        
      } 

  
      // Timers
     setInterval(calculateBuildings, 1000);
    </script>
  </body>
</html>
